import os, inspect
Import ("env")

objects = []

path = os.path.dirname (inspect.getfile (inspect.currentframe ()))

for dirname, dirnames, filenames in os.walk (path):
    for subdirname in dirnames:
        env.SConscript('%s/SConscript' % os.path.join (path, subdirname), variant_dir = os.path.join (".", subdirname), duplicate = 0, exports = {'env': env, "objects": objects})

objects.append (env.Object ("config.cpp"))

env.Append (LIBS = ["log4cxx"])

env.Default (env.Program(target = "../run/main", source = (["main.cpp"] + objects)))
