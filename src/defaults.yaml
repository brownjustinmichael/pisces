init:
    scale: 0.0
    mean: 0.0
    sigma: 10.
grid:
    x:
        points: 256
        width: 100.0
    z:
        points: 256
        width: 100.0
    rezone:
        check_every: -500
        min_size: 20.0
        max_size: 70.0
        n_tries: 1
        iters_fixed_t: 1
        step_size: 5.0
        k: 1.0
        t_initial: 8e-1
        mu_t: 1.003
        t_min: 2e-1
time:
    steps: 1000
    init: 1.0e-5
    max: 4.e-3
    mult: 1.5
    cfl: 0.1
    alpha: 1.00
    allow: 1000.0
equations:
    temperature:
        diffusion: 1.0
        bg_diffusion: 1.0
        advection: 1.0
        sources:
            z_velocity: 1.0
        top:
            type: fixed_value
            value: 0.0
        bottom:
            type: fixed_value
            value: 0.0
    composition:
        diffusion: 0.5
        advection: 1.0
        sources:
            z_velocity: 0.5
        top:
            type: fixed_value
            value: 0.0
        bottom:
            type: fixed_value
            value: 0.0
    velocity:
        ignore: True
        diffusion: 0.5
        advection: 1.0
    x_velocity:
        ignore: False
        link: "equations.velocity"
        top:
            type: fixed_derivative
            value: 0.0
        bottom:
            type: fixed_derivative
            value: 0.0
    z_velocity:
        ignore: False
        link: "equations.velocity"
        sources:
            temperature: 0.5
            composition: -0.5
        top:
            type: fixed_value
            value: 0.0
        bottom:
            type: fixed_value
            value: 0.0
    pressure:
        ignore: false
        incompressible: true
        x_velocity: x_velocity
        z_velocity: z_velocity
root: ./
input:
    directory: input/
    file: input_%02i
    full: true
output:
    directory: output/
    file: output_%02i
    every: 10
    transform:
        file: output_t_%02i
    stat:
        file: output_%02i
        every: 50
    merge_file: merge_%04i
    full: true
dump:
    file: dump_%02i
    directory: input/
    every: 1000
parallel:
    maxthreads: 4
    transform:
        threads: 4
        subthreads: 1
    solver:
        threads: 4