\hypertarget{classbases_1_1messenger}{\section{bases\-:\-:messenger Class Reference}
\label{classbases_1_1messenger}\index{bases\-::messenger@{bases\-::messenger}}
}


A class to manage boundary communication.  




{\ttfamily \#include $<$messenger.\-hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classbases_1_1messenger_ae4aade26c6ef7809a30659471a6d0ad2}{messenger} (int $\ast$argc, char $\ast$$\ast$$\ast$argv, int n\-\_\-boundaries)
\item 
int \hyperlink{classbases_1_1messenger_a6aa3309dfbebace3cec88f57cf9edfce}{get\-\_\-id} ()
\begin{DoxyCompactList}\small\item\em Return the id of the current process. \end{DoxyCompactList}\item 
int \hyperlink{classbases_1_1messenger_ad5eda2bab3d38ae383579108a03f2c5b}{get\-\_\-np} ()
\begin{DoxyCompactList}\small\item\em Return the total number of processes. \end{DoxyCompactList}\item 
bool \hyperlink{classbases_1_1messenger_ae7e221a16bc75c302fe3d48a63359be7}{linked} (int edge)
\begin{DoxyCompactList}\small\item\em Return whether the specified edge is linked. \end{DoxyCompactList}\item 
virtual int \hyperlink{classbases_1_1messenger_a7d9b96f1b04598c480d367a95015cc72}{edge\-\_\-to\-\_\-index} (int mode, int edge)
\begin{DoxyCompactList}\small\item\em Given an edge and action mode, determine the correct index. \end{DoxyCompactList}\item 
virtual int \hyperlink{classbases_1_1messenger_a419d764733431f850130f1024fbe75fc}{index\-\_\-to\-\_\-mode} (int \hyperlink{plan_8hpp_a6784e1c334dfceb8f017667c0b0f6a3e}{index})
\begin{DoxyCompactList}\small\item\em Given an index, determine whether to send or recv. \end{DoxyCompactList}\item 
virtual void \hyperlink{classbases_1_1messenger_a64687bc91d7e8c818951eb311ec59bb8}{add\-\_\-boundary} (int edge, int process)
\begin{DoxyCompactList}\small\item\em Link this element with another. \end{DoxyCompactList}\item 
virtual void \hyperlink{classbases_1_1messenger_ad0d6143a787a00261784493ec7413a17}{send} (int n, double $\ast$data, int edge)
\begin{DoxyCompactList}\small\item\em Add send action in the double queue. \end{DoxyCompactList}\item 
virtual void \hyperlink{classbases_1_1messenger_a5d43e922b30cbe13f76f3ff46511601b}{recv} (int n, double $\ast$data, int edge)
\begin{DoxyCompactList}\small\item\em Add recv action in the double queue. \end{DoxyCompactList}\item 
virtual void \hyperlink{classbases_1_1messenger_a7a0b0da172ae2a53693e330daf945acf}{send} (int n, int $\ast$data, int edge)
\begin{DoxyCompactList}\small\item\em Add send action in the integer queue. \end{DoxyCompactList}\item 
virtual void \hyperlink{classbases_1_1messenger_ae59f0a20772afbb06c836310b3a3f452}{recv} (int n, int $\ast$data, int edge)
\begin{DoxyCompactList}\small\item\em Add recv action in the integer queue. \end{DoxyCompactList}\item 
virtual void \hyperlink{classbases_1_1messenger_a7d14d988ce500b9c56a34b44b6e6ca94}{min} (double $\ast$data)
\begin{DoxyCompactList}\small\item\em Calculate a minimum across elements. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classbases_1_1messenger_a9f711b71b09ca9940a7363c821307c93}{bool\-\_\-and} (bool boolean)
\begin{DoxyCompactList}\small\item\em Determine if all processes meet a condition. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
A class to manage boundary communication. 



 This class should provide implementation to send boundary information to other elements. It may be dimension specific. There should only be one per thread. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classbases_1_1messenger_ae4aade26c6ef7809a30659471a6d0ad2}{\index{bases\-::messenger@{bases\-::messenger}!messenger@{messenger}}
\index{messenger@{messenger}!bases::messenger@{bases\-::messenger}}
\subsubsection[{messenger}]{\setlength{\rightskip}{0pt plus 5cm}bases\-::messenger\-::messenger (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{argc, }
\item[{char $\ast$$\ast$$\ast$}]{argv, }
\item[{int}]{n\-\_\-boundaries}
\end{DoxyParamCaption}
)}}\label{classbases_1_1messenger_ae4aade26c6ef7809a30659471a6d0ad2}


 
\begin{DoxyParams}{Parameters}
{\em argc} & An integer pointer to the number of command arguments \\
\hline
{\em argv} & A pointer to an array of character arrays of command arguments \\
\hline
{\em n\-\_\-boundaries} & The integer number of boundaries per element (must be even) \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classbases_1_1messenger_a64687bc91d7e8c818951eb311ec59bb8}{\index{bases\-::messenger@{bases\-::messenger}!add\-\_\-boundary@{add\-\_\-boundary}}
\index{add\-\_\-boundary@{add\-\_\-boundary}!bases::messenger@{bases\-::messenger}}
\subsubsection[{add\-\_\-boundary}]{\setlength{\rightskip}{0pt plus 5cm}void bases\-::messenger\-::add\-\_\-boundary (
\begin{DoxyParamCaption}
\item[{int}]{edge, }
\item[{int}]{process}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classbases_1_1messenger_a64687bc91d7e8c818951eb311ec59bb8}


Link this element with another. 



 
\begin{DoxyParams}{Parameters}
{\em edge} & The integer representation of the edge to link \\
\hline
{\em process} & The integer id of the process to link to \\
\hline
\end{DoxyParams}
\hypertarget{classbases_1_1messenger_a9f711b71b09ca9940a7363c821307c93}{\index{bases\-::messenger@{bases\-::messenger}!bool\-\_\-and@{bool\-\_\-and}}
\index{bool\-\_\-and@{bool\-\_\-and}!bases::messenger@{bases\-::messenger}}
\subsubsection[{bool\-\_\-and}]{\setlength{\rightskip}{0pt plus 5cm}bool bases\-::messenger\-::bool\-\_\-and (
\begin{DoxyParamCaption}
\item[{bool}]{boolean}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classbases_1_1messenger_a9f711b71b09ca9940a7363c821307c93}


Determine if all processes meet a condition. 



 This uses the messenger integer buffer.


\begin{DoxyParams}{Parameters}
{\em boolean} & The bool condition to check \\
\hline
\end{DoxyParams}
\hypertarget{classbases_1_1messenger_a7d9b96f1b04598c480d367a95015cc72}{\index{bases\-::messenger@{bases\-::messenger}!edge\-\_\-to\-\_\-index@{edge\-\_\-to\-\_\-index}}
\index{edge\-\_\-to\-\_\-index@{edge\-\_\-to\-\_\-index}!bases::messenger@{bases\-::messenger}}
\subsubsection[{edge\-\_\-to\-\_\-index}]{\setlength{\rightskip}{0pt plus 5cm}virtual int bases\-::messenger\-::edge\-\_\-to\-\_\-index (
\begin{DoxyParamCaption}
\item[{int}]{mode, }
\item[{int}]{edge}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}}\label{classbases_1_1messenger_a7d9b96f1b04598c480d367a95015cc72}


Given an edge and action mode, determine the correct index. 



 Each action on each edge has a queue index, which this function reads


\begin{DoxyParams}{Parameters}
{\em mode} & The integer representation of the action (0 for send, 1 for recv) \\
\hline
{\em edge} & The integer representation of the edge \\
\hline
\end{DoxyParams}
\hypertarget{classbases_1_1messenger_a6aa3309dfbebace3cec88f57cf9edfce}{\index{bases\-::messenger@{bases\-::messenger}!get\-\_\-id@{get\-\_\-id}}
\index{get\-\_\-id@{get\-\_\-id}!bases::messenger@{bases\-::messenger}}
\subsubsection[{get\-\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}int bases\-::messenger\-::get\-\_\-id (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classbases_1_1messenger_a6aa3309dfbebace3cec88f57cf9edfce}


Return the id of the current process. 



 \begin{DoxyReturn}{Returns}
The integer id of the current process 
\end{DoxyReturn}
\hypertarget{classbases_1_1messenger_ad5eda2bab3d38ae383579108a03f2c5b}{\index{bases\-::messenger@{bases\-::messenger}!get\-\_\-np@{get\-\_\-np}}
\index{get\-\_\-np@{get\-\_\-np}!bases::messenger@{bases\-::messenger}}
\subsubsection[{get\-\_\-np}]{\setlength{\rightskip}{0pt plus 5cm}int bases\-::messenger\-::get\-\_\-np (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classbases_1_1messenger_ad5eda2bab3d38ae383579108a03f2c5b}


Return the total number of processes. 



 \begin{DoxyReturn}{Returns}
The integer number of processes 
\end{DoxyReturn}
\hypertarget{classbases_1_1messenger_a419d764733431f850130f1024fbe75fc}{\index{bases\-::messenger@{bases\-::messenger}!index\-\_\-to\-\_\-mode@{index\-\_\-to\-\_\-mode}}
\index{index\-\_\-to\-\_\-mode@{index\-\_\-to\-\_\-mode}!bases::messenger@{bases\-::messenger}}
\subsubsection[{index\-\_\-to\-\_\-mode}]{\setlength{\rightskip}{0pt plus 5cm}virtual int bases\-::messenger\-::index\-\_\-to\-\_\-mode (
\begin{DoxyParamCaption}
\item[{int}]{index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}}\label{classbases_1_1messenger_a419d764733431f850130f1024fbe75fc}


Given an index, determine whether to send or recv. 



 
\begin{DoxyParams}{Parameters}
{\em index} & The queue index of the action \\
\hline
\end{DoxyParams}
\hypertarget{classbases_1_1messenger_ae7e221a16bc75c302fe3d48a63359be7}{\index{bases\-::messenger@{bases\-::messenger}!linked@{linked}}
\index{linked@{linked}!bases::messenger@{bases\-::messenger}}
\subsubsection[{linked}]{\setlength{\rightskip}{0pt plus 5cm}bool bases\-::messenger\-::linked (
\begin{DoxyParamCaption}
\item[{int}]{edge}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classbases_1_1messenger_ae7e221a16bc75c302fe3d48a63359be7}


Return whether the specified edge is linked. 



 \begin{DoxyReturn}{Returns}
A bool of if the edge is linked to another process 
\end{DoxyReturn}
\hypertarget{classbases_1_1messenger_a7d14d988ce500b9c56a34b44b6e6ca94}{\index{bases\-::messenger@{bases\-::messenger}!min@{min}}
\index{min@{min}!bases::messenger@{bases\-::messenger}}
\subsubsection[{min}]{\setlength{\rightskip}{0pt plus 5cm}void bases\-::messenger\-::min (
\begin{DoxyParamCaption}
\item[{double $\ast$}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classbases_1_1messenger_a7d14d988ce500b9c56a34b44b6e6ca94}


Calculate a minimum across elements. 



 This uses the messenger buffer.


\begin{DoxyParams}{Parameters}
{\em data} & The double pointer to the double to minimize \\
\hline
\end{DoxyParams}
\hypertarget{classbases_1_1messenger_a5d43e922b30cbe13f76f3ff46511601b}{\index{bases\-::messenger@{bases\-::messenger}!recv@{recv}}
\index{recv@{recv}!bases::messenger@{bases\-::messenger}}
\subsubsection[{recv}]{\setlength{\rightskip}{0pt plus 5cm}void bases\-::messenger\-::recv (
\begin{DoxyParamCaption}
\item[{int}]{n, }
\item[{double $\ast$}]{data, }
\item[{int}]{edge}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classbases_1_1messenger_a5d43e922b30cbe13f76f3ff46511601b}


Add recv action in the double queue. 



 Warning. This does not recv the data immediately. This could be rewritten to wait for the information, but it does not at present. It recvs if it can, but the information is not guaranteed to arrive until an entire set of send/recv commands are queued.


\begin{DoxyParams}{Parameters}
{\em n} & The integer number of elements to recv \\
\hline
{\em data} & The double pointer to the data to recv \\
\hline
{\em edge} & The integer representation of the corresponding edge \\
\hline
\end{DoxyParams}
\hypertarget{classbases_1_1messenger_ae59f0a20772afbb06c836310b3a3f452}{\index{bases\-::messenger@{bases\-::messenger}!recv@{recv}}
\index{recv@{recv}!bases::messenger@{bases\-::messenger}}
\subsubsection[{recv}]{\setlength{\rightskip}{0pt plus 5cm}void bases\-::messenger\-::recv (
\begin{DoxyParamCaption}
\item[{int}]{n, }
\item[{int $\ast$}]{data, }
\item[{int}]{edge}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classbases_1_1messenger_ae59f0a20772afbb06c836310b3a3f452}


Add recv action in the integer queue. 



 Warning. This does not recv the data immediately. This could be rewritten to wait for the information, but it does not at present. It recvs if it can, but the information is not guaranteed to arrive until an entire set of send/recv commands are queued.


\begin{DoxyParams}{Parameters}
{\em n} & The integer number of elements to recv \\
\hline
{\em data} & The integer pointer to the data to recv \\
\hline
{\em edge} & The integer representation of the corresponding edge \\
\hline
\end{DoxyParams}
\hypertarget{classbases_1_1messenger_ad0d6143a787a00261784493ec7413a17}{\index{bases\-::messenger@{bases\-::messenger}!send@{send}}
\index{send@{send}!bases::messenger@{bases\-::messenger}}
\subsubsection[{send}]{\setlength{\rightskip}{0pt plus 5cm}void bases\-::messenger\-::send (
\begin{DoxyParamCaption}
\item[{int}]{n, }
\item[{double $\ast$}]{data, }
\item[{int}]{edge}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classbases_1_1messenger_ad0d6143a787a00261784493ec7413a17}


Add send action in the double queue. 



 Warning. This does not send the data immediately. This could be rewritten to save the information in a buffer, but it does not at present. It sends if it can, but the information is not guaranteed to be sent until an entire set of send/recv commands are queued.


\begin{DoxyParams}{Parameters}
{\em n} & The integer number of elements to send \\
\hline
{\em data} & The double pointer to the data to send \\
\hline
{\em edge} & The integer representation of the corresponding edge \\
\hline
\end{DoxyParams}
\hypertarget{classbases_1_1messenger_a7a0b0da172ae2a53693e330daf945acf}{\index{bases\-::messenger@{bases\-::messenger}!send@{send}}
\index{send@{send}!bases::messenger@{bases\-::messenger}}
\subsubsection[{send}]{\setlength{\rightskip}{0pt plus 5cm}void bases\-::messenger\-::send (
\begin{DoxyParamCaption}
\item[{int}]{n, }
\item[{int $\ast$}]{data, }
\item[{int}]{edge}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classbases_1_1messenger_a7a0b0da172ae2a53693e330daf945acf}


Add send action in the integer queue. 



 Warning. This does not send the data immediately. This could be rewritten to save the information in a buffer, but it does not at present. It sends if it can, but the information is not guaranteed to be sent until an entire set of send/recv commands are queued.


\begin{DoxyParams}{Parameters}
{\em n} & The integer number of elements to send \\
\hline
{\em data} & The integer pointer to the data to send \\
\hline
{\em edge} & The integer representation of the corresponding edge \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/\-Users/justinbrown/\-Dropbox/spectral\-\_\-element/src/bases/\hyperlink{messenger_8hpp}{messenger.\-hpp}\item 
/\-Users/justinbrown/\-Dropbox/spectral\-\_\-element/src/bases/\hyperlink{messenger_8cpp}{messenger.\-cpp}\end{DoxyCompactItemize}
